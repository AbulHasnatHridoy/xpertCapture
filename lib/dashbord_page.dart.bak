// import 'package:flutter/material.dart';
// import 'orders_page.dart';
// importclass DashboardPage extends StatelessWidget {
  
   DashboardPage({super.key});isits_page.dart';
// import 'profile_page.dart';
// import 'loginPage.dart';

// class DashboardPage extends StatelessWidget {
//   const DashboardPage({super.key});

//   @override
//   Widget build(BuildContext context) {
//     return Scaffold(
//       appBar: AppBar(
//         title: const Text("Dashboard"),
//         automaticallyImplyLeading: false, // remove back button
//       ),
//       body: GridView.count(
//         crossAxisCount: 2,
//         padding: const EdgeInsets.all(20),
//         crossAxisSpacing: 15,
//         mainAxisSpacing: 15,
//         children: [
//           _buildDashboardCard(
//               context, Icons.shopping_cart, "Orders", const OrdersPage()),
//           _buildDashboardCard(
//               context, Icons.location_on, "Visits", const VisitsPage()),
//           _buildDashboardCard(
//               context, Icons.person, "Profile", const ProfilePage()),
//           _buildDashboardCard(
//               context, Icons.logout, "Logout", null, isLogout: true),
//         ],
//       ),
//     );
//   }

//   Widget _buildDashboardCard(BuildContext context, IconData icon, String title,
//       Widget? page,
//       {bool isLogout = false}) {
//     return GestureDetector(
//       onTap: () {
//         if (isLogout) {
//           // Navigate back to login page and clear navigation stack
//           Navigator.pushAndRemoveUntil(
//             context,
//             MaterialPageRoute(builder: (context) => Loginpage()),
//             (route) => false,
//           );
//         } else {
//           Navigator.push(
//             context,
//             MaterialPageRoute(builder: (context) => page!),
//           );
//         }
//       },
//       child: Card(
//         elevation: 6,
//         shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),
//         color: Colors.blueAccent,
//         child: Center(
//           child: Column(
//             mainAxisSize: MainAxisSize.min,
//             children: [
//               Icon(icon, size: 50, color: Colors.white),
//               const SizedBox(height: 10),
//               Text(title,
//                   style: const TextStyle(
//                       fontSize: 18,
//                       fontWeight: FontWeight.bold,
//                       color: Colors.white)),
//             ],
//           ),
//         ),
//       ),
//     );
//   }
// }

//Using GridviewBuilder:
import 'package:flutter/material.dart';
import 'loginPage.dart';
import 'orders_page.dart';
import 'visits_page.dart';
import 'profile_page.dart';

class DashboardPage extends StatelessWidget {
  
   DashbordPage({super.key});
  final List <Map<String,dynamic>> dashbordItems =[
    {"icon": Icons.shopping_cart,"title":"Orders","page":OrdersPage()},
    {"icon": Icons.location_on,"title":"Visits",'page': VisitsPage()},
    {"icon":Icons.person, "title":"Profile", "page": ProfilePage()},
    {"icon": Icons.logout,"title":"Logout","page": null,"isLogout":true},
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title:Text("DashBoard")
      ),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: GridView.builder(
          gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 2,
            crossAxisSpacing: 15,
            mainAxisSpacing: 15,
          ), 
        itemCount: dashbordItems.length ,
        itemBuilder: (context,index){
          final item = dashbordItems[index];
          return _buildDashboardCard(
            context,
            item["icon"],
            item["title"],
            item["page"],
            isLogout:item["isLogout"]??false,
            );

        }
        ),
      ),
    );
  }
  Widget _buildDashboardCard(
    BuildContext context,IconData icon,String title,Widget? page,
    {bool isLogout =false}
  )
  {
    return GestureDetector(
      onTap: () {
        if (isLogout){
          Navigator.pushAndRemoveUntil(
            context,
            MaterialPageRoute(builder: (context) => Loginpage()),
            (route) => false,
          );
        }
        else{
          Navigator.push(context, MaterialPageRoute(
            builder: (context)=> page!),
            );
        }
      },
      child: Card(
        elevation: 6,
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(16)
        ),
        color:Colors.blueAccent,
        child: Center(
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Icon(icon,size: 50,color: Colors.white),
              SizedBox(height: 10),
              Text(title,
              style: TextStyle(
                fontSize: 18,
                fontWeight: FontWeight.bold,
                color: Colors.white
              ),
              )
            ],
          ),
        ),
      ),
    );
  }
}
